import{b as T,c as A,_ as M,a as N}from"./CardBox-7b751d6f.js";import{B as j}from"./BreadCrumb-759eb96d.js";import{_ as H}from"./ProjectName-d3c8f1d7.js";import{k as U,s as P,a as y,w as l,r as c,o,g as _,b as n,c as i,f as p,t as g,F as m,d as R}from"./index-9dad1ecb.js";import{C as I}from"./ChartComponent-685c79d5.js";import{L as O}from"./LoadingComponent-0d9f5b13.js";import{_ as E}from"./BaseButtons-1de4e2b6.js";import{_ as F}from"./BaseButton-ff604aaf.js";import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";import"./PillTag-588be2e0.js";const Y={price:"Price",new_marketcap:"Marketcap",fee_change_1d:"Fee Change 1d",fee_change_1m:"Fee Change 1m",fee_change_7d:"Fee Change 7d",fee_total7d:"7D fees",fee_total24h:"24H fees",fee_totalAllTime:"All Time fees",tvl:"TVL",tvl_change_1d:"TVL Change 1d",tvl_change_1h:"TVL Change 1h",tvl_change_7d:"TVL Change 7d",all_time_high:"ATH",annual_inflation_percent:"Annual Inflation Percent",circulating_supply:"Circulating Supply",cycle_low:"Cycle Low",days_since_all_time_high:"Days Since ATH",days_since_cycle_low:"Days Since Cycle Low",github_stars:"Github Stars",github_watchers:"Github Watchers",liquid_marketcap_usd:"Liquid Marketcap USD",liquid_supply:"Liquid Supply",onchain_active_addresses:"Onchain Active Addresses",onchain_addresses_count:"Onchain Addresses Count",percent_change_btc_last_1_month:"% Change BTC Last 1 Month",percent_change_btc_last_1_week:"% Change BTC Last 1 Week",percent_change_btc_last_1_year:"% Change BTC Last 1 Year",percent_change_btc_last_3_months:"% Change BTC Last 3 Months",percent_change_btc_last_24_hours:"% Change BTC Last 24 Hours",percent_change_eth_last_1_month:"% Change ETH Last 1 Month",percent_change_eth_last_1_week:"% Change ETH Last 1 Week",percent_change_eth_last_1_year:"% Change ETH Last 1 Year",percent_change_eth_last_3_months:"% Change ETH Last 3 Months",percent_change_eth_last_24_hours:"% Change ETH Last 24 Hours",percent_change_last_1_month:"% Change Last 1 Month",percent_change_last_1_week:"% 1W Change",percent_change_last_1_year:"% Change Last 1 Year",percent_change_last_3_months:"% Change Last 3 Months",percent_change_month_to_date:"% Change Month to Date",percent_change_quarter_to_date:"% Change Quarter to Date",percent_change_usd_last_24_hours:"$ Change 24H",percent_change_year_to_date:"% Change Year to Date",percent_down_since_ath:"% Down Since ATH",percent_up_since_cycle_low:"% Up Since Low",price_btc:"Price BTC",price_eth:"Price ETH",rank:"Rank",real_volume_last_24_hours:"Real Volume Last 24 Hours",reddit_active_user_count:"Reddit Active User Count",reddit_subscribers:"Reddit Subscribers",roi_2011_usd_percent:"ROI 2011 USD Percent",roi_2012_usd_percent:"ROI 2012 USD Percent",roi_2013_usd_percent:"ROI 2013 USD Percent",roi_2014_usd_percent:"ROI 2014 USD Percent",roi_2015_usd_percent:"ROI 2015 USD Percent",roi_2016_usd_percent:"ROI 2016 USD Percent",roi_2017_usd_percent:"ROI 2017 USD Percent",roi_2018_usd_percent:"ROI 2018 USD Percent",roi_2019_usd_percent:"ROI 2019 USD Percent",roi_2020_usd_percent:"ROI 2020 USD Percent",roi_2021_usd_percent:"ROI 2021 USD Percent",stock_to_flow:"Stock to Flow",supply_active_1d:"Supply Active 1d",supply_in_top_1_percent_addresses:"Supply in Top 1 Percent Addresses",supply_in_top_10_percent_addresses:"Supply in Top 10 Percent Addresses",supply_in_top_100_addresses:"Supply in Top 100 Addresses",volume_last_24_hours:"Volume Last 24 Hours",y_2050:"Y 2050",y_2050_issued_percent:"Y 2050 Issued Percent",y_2050_marketcap_usd:"Y 2050 Marketcap USD",y_plus10:"Y Plus 10",y_plus10_issued_percent:"Y Plus 10 Issued Percent",y_plus10_marketcap_usd:"Y Plus 10 Marketcap USD"};const q={components:{LayoutAuthenticated:T,SectionMain:A,BreadCrumb:j,ProjectName:H,CardBox:M,ChartComponent:I,LoadingComponent:O,BaseLevel:N,BaseButtons:E,BaseButton:F},data(){return{assetsPaginated:[],currentPage:0,perPage:10,loading:!0,sortKey:null,sortAscending:!0,coins:{},metrics:{},assets:{},db:{},dashboard:{name:"My Dashboards",tagline:"Create your own personalized dashboards to track the data that matters most to you.",logo:"https://cdn1.iconfinder.com/data/icons/webina-seo-development-and-marketing/128/seo_web-62-512.png",project:1,sector:U},metricNames:Y}},async created(){await this.fetchData(),await this.fetchAssetData(),await this.getLogo(),await this.updateAssetsPaginated()},watch:{currentPage(){this.assetsPaginated=this.coins.slice(this.perPage*this.currentPage,this.perPage*(this.currentPage+1))}},computed:{numPages(){return this.coins.length===0?0:Math.ceil(this.coins.length/this.perPage)},currentPageHuman(){return this.currentPage+1},pagesList(){const e=[];for(let s=0;s<this.numPages;s++)e.push(s);return e}},methods:{async getLogo(){for(let e of this.coins){let{data:s,error:r}=await P.from("ultimateframe").select("logo").eq("symbol",e.symbol);if(r){console.error("Error fetching logo:",r);continue}if(!s[0]){console.error("No logo found for coin:",e.symbol);continue}this.assets[e.symbol]={...this.assets[e.symbol],logo:s[0]?s[0].logo:"https://cdn4.iconfinder.com/data/icons/leto-weather/64/na_not_available_weather_sun-512.png"}}console.log("ASSETS: ",this.assets),console.log("METRICS: ",this.metrics)},updateAssetsPaginated(){const e=this.perPage*this.currentPage,s=e+this.perPage;this.assetsPaginated=this.coins.slice(e,s),this.loading=!1},async fetchData(){try{let{data:e,error:s}=await P.from("dashboard").select().eq("id",this.$route.params.id);this.db=e[0],this.coins=e[0].json.selectedCoins,this.metrics=e[0].json.selectedMetrics}catch(e){console.error("Following errors were found: ",e),this.errors=e.message}},async fetchAssetData(){try{let{data:e,errors:s}=await P.from("jsoncoin").select("payload").order("id",{ascending:!1});if(s)return console.error("Error:"+s);for(let r of this.coins){let u=e[0].payload.filter(t=>t.symbol===r.symbol);this.assets=Object.assign({},this.assets,{[r.symbol]:u[0]})}}catch(e){console.error("Following errors were found: ",e),this.errors=e.message}},formatValue(e,s){let r=this.assets[e]&&this.assets[e]?this.assets[e][s]:"N/A";return r===void 0?"N/A":["price","price_btc","price_eth","marketcap","liquid_marketcap_usd","volume_last_24_hours","real_volume_last_24_hours","fee_total24h","fee_total7d","fee_totalAlltime","tvl","all_time_high","cycle_low"].includes(s)?Number(r).toLocaleString("en-US",{style:"currency",currency:"USD"}):["roi_2011_usd_percent","roi_2012_usd_percent","roi_2013_usd_percent","roi_2014_usd_percent","roi_2015_usd_percent","roi_2016_usd_percent","roi_2017_usd_percent","roi_2018_usd_percent","roi_2019_usd_percent","roi_2020_usd_percent","roi_2021_usd_percent","roi_2022_usd_percent","percent_down_since_ath","percent_up_since_cycle_low","percent_change_btc_last_24_hours","percent_change_btc_last_1_week","percent_change_btc_last_1_month","percent_change_btc_last_3_months","percent_change_btc_last_1_year","percent_change_eth_last_24_hours","percent_change_eth_last_1_week","percent_change_eth_last_1_month","percent_change_eth_last_3_months","percent_change_eth_last_1_year","percent_change_usd_last_24_hours","percent_change_last_1_week","percent_change_last_1_month","percent_change_last_3_months","percent_change_last_1_year","percent_change_month_to_date","percent_change_quarter_to_date","percent_change_year_to_date","fee_change_1d","fee_change_7d","fee_change_1m","tvl_change_1h","tvl_change_1d","tvl_change_7d"].includes(s)?`<span class="${r>=0?"positive":"negative"}">${Number(r).toFixed(2)}%</span>`:Number(r).toLocaleString("en-US")},sortTable(e){this.sortKey=e,this.sortAscending=!this.sortAscending,this.coins.sort((s,r)=>{if(!this.assets[s]||!this.assets[s]||!this.assets[s][e])return 1;if(!this.assets[r]||!this.assets[r]||!this.assets[r][e])return-1;let u=this.assets[s][e],t=this.assets[r][e];return this.sortAscending?u-t:t-u})}}},W={class:"overflow-x-auto"},G={class:"text-xs text-gray-700 uppercase dark:text-gray-400"},K=n("th",null,null,-1),z=n("th",null,"Project",-1),Q=["onClick"],J={"data-label":"logo",class:"h-6 w-6"},X={class:"h-6 w-6"},Z=["src"],$={"data-label":"Name",class:"w-32"},ee={class:"w-32"},te={class:"text-gray-500 dark:text-slate-400"},se=["innerHTML"],ae={class:"text-xs text-gray-700 uppercase dark:text-gray-400"},ne=n("th",null,null,-1),re=n("th",null,"Project",-1),oe=["onClick"],_e={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800"},ce={class:"py-4 mb-6 flex overflow-x-auto"};function le(e,s,r,u,t,h){const w=c("LoadingComponent"),C=c("SectionMain"),v=c("BreadCrumb"),L=c("ProjectName"),S=c("router-link"),f=c("BaseButton"),D=c("BaseButtons"),x=c("BaseLevel"),b=c("CardBox"),k=c("ChartComponent"),B=c("LayoutAuthenticated");return o(),y(B,null,{default:l(()=>[t.loading?(o(),y(C,{key:0},{default:l(()=>[_(w)]),_:1})):(o(),y(C,{key:1},{default:l(()=>[_(v,{projectName:t.dashboard.name,class:"py-4"},null,8,["projectName"]),_(L,{project:t.db.json.dashboardName,tagline:t.db.json.dashboardDescription,sector:t.db.json.dashboardName,logo:t.dashboard.logo?t.dashboard.logo:"https://cdn4.iconfinder.com/data/icons/leto-weather/64/na_not_available_weather_sun-512.png"},null,8,["project","tagline","sector","logo"]),_(b,{"has-table":""},{default:l(()=>[n("div",W,[n("table",null,[n("thead",G,[n("tr",null,[K,z,(o(!0),i(m,null,p(t.metrics,a=>(o(),i("th",{key:a.id,onClick:d=>h.sortTable(a.id)},g(t.metricNames[a.id]),9,Q))),128))])]),n("tbody",null,[(o(!0),i(m,null,p(t.assetsPaginated,a=>(o(),i("tr",{key:a.symbol},[n("th",J,[n("div",X,[n("img",{src:t.assets[a.symbol].logo?t.assets[a.symbol].logo:"https://cdn3.iconfinder.com/data/icons/meteocons/512/n-a-512.png",alt:"Logo",class:"rounded-full"},null,8,Z)])]),n("td",$,[n("div",ee,[_(S,{to:`/projects/${a.symbol}`},{default:l(()=>[R(g(a.name),1)]),_:2},1032,["to"])])]),(o(!0),i(m,null,p(t.metrics,d=>(o(),i("td",{key:d.id,class:"lg:w-1 whitespace-nowrap"},[n("small",te,[n("span",{innerHTML:h.formatValue(a.symbol,d.id)},null,8,se)])]))),128))]))),128))]),n("tfoot",ae,[n("tr",null,[ne,re,(o(!0),i(m,null,p(t.metrics,a=>(o(),i("th",{key:a.id,onClick:d=>h.sortTable(a.id)},g(t.metricNames[a.id]),9,oe))),128))])])]),n("div",_e,[_(x,null,{default:l(()=>[_(D,null,{default:l(()=>[_(f,{class:"text-xs text-gray-700 uppercase dark:text-gray-400",label:"Previous",onClick:s[0]||(s[0]=a=>t.currentPage=Math.max(t.currentPage-1,0)),color:e.page===t.currentPage?"lightDark":"whiteDark"},null,8,["color"]),(o(!0),i(m,null,p(h.pagesList.slice(Math.max(t.currentPage-1,0),Math.min(t.currentPage+1,h.numPages)),a=>(o(),y(f,{class:"text-xs text-gray-700 uppercase dark:text-gray-400",key:a,active:a===t.currentPage,label:a+1,color:a===t.currentPage?"lightDark":"whiteDark",small:"",onClick:d=>t.currentPage=a},null,8,["active","label","color","onClick"]))),128)),_(f,{class:"text-xs text-gray-700 uppercase dark:text-gray-400",label:"Next",onClick:s[1]||(s[1]=a=>t.currentPage=Math.min(t.currentPage+1,h.numPages-1)),color:e.page===t.currentPage?"lightDark":"whiteDark"},null,8,["color"])]),_:1}),n("small",null,"Page "+g(h.currentPageHuman)+" of "+g(h.numPages),1)]),_:1})])])]),_:1}),n("div",ce,[_(b,{"has-table":"",class:"w-1/2 mr-2"},{default:l(()=>[_(k,{firstchart:"Ethereum",secondchart:"Polygon"})]),_:1}),_(b,{"has-table":"",class:"w-1/2 mr-2"},{default:l(()=>[_(k,{firstchart:"Binance",secondchart:"Cosmos"})]),_:1})])]),_:1}))]),_:1})}const Pe=V(q,[["render",le]]);export{Pe as default};
//# sourceMappingURL=MyDashboardsForReal-93dbacf7.js.map
