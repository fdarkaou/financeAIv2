{"version":3,"file":"ProfileView-5b1b22e7.js","sources":["../../src/components/FormField.vue","../../src/components/FormFilePicker.vue","../../src/components/FormCheckRadio.vue","../../src/components/UserCard.vue","../../src/views/ProfileView.vue"],"sourcesContent":["<script setup>\nimport { computed, useSlots } from \"vue\";\n\ndefineProps({\n  label: {\n    type: String,\n    default: null,\n  },\n  labelFor: {\n    type: String,\n    default: null,\n  },\n  help: {\n    type: String,\n    default: null,\n  },\n});\n\nconst slots = useSlots();\n\nconst wrapperClass = computed(() => {\n  const base = [];\n  const slotsLength = slots.default().length;\n\n  if (slotsLength > 1) {\n    base.push(\"grid grid-cols-1 gap-3\");\n  }\n\n  if (slotsLength === 2) {\n    base.push(\"md:grid-cols-2\");\n  }\n\n  return base;\n});\n</script>\n\n<template>\n  <div class=\"mb-6 last:mb-0\">\n    <label v-if=\"label\" :for=\"labelFor\" class=\"block font-bold mb-2\">{{\n      label\n    }}</label>\n    <div :class=\"wrapperClass\">\n      <slot />\n    </div>\n    <div v-if=\"help\" class=\"text-xs text-gray-500 dark:text-slate-400 mt-1\">\n      {{ help }}\n    </div>\n  </div>\n</template>\n","<script setup>\nimport { mdiUpload } from \"@mdi/js\";\nimport { computed, ref, watch } from \"vue\";\nimport BaseButton from \"@/components/BaseButton.vue\";\n\nconst props = defineProps({\n  modelValue: {\n    type: [Object, File, Array],\n    default: null,\n  },\n  label: {\n    type: String,\n    default: null,\n  },\n  icon: {\n    type: String,\n    default: mdiUpload,\n  },\n  accept: {\n    type: String,\n    default: null,\n  },\n  color: {\n    type: String,\n    default: \"info\",\n  },\n  isRoundIcon: Boolean,\n});\n\nconst emit = defineEmits([\"update:modelValue\"]);\n\nconst root = ref(null);\n\nconst file = ref(props.modelValue);\n\nconst showFilename = computed(() => !props.isRoundIcon && file.value);\n\nconst modelValueProp = computed(() => props.modelValue);\n\nwatch(modelValueProp, (value) => {\n  file.value = value;\n\n  if (!value) {\n    root.value.input.value = null;\n  }\n});\n\nconst upload = (event) => {\n  const value = event.target.files || event.dataTransfer.files;\n\n  file.value = value[0];\n\n  emit(\"update:modelValue\", file.value);\n\n  // Use this as an example for handling file uploads\n  // let formData = new FormData()\n  // formData.append('file', file.value)\n\n  // const mediaStoreRoute = `/your-route/`\n\n  // axios\n  //   .post(mediaStoreRoute, formData, {\n  //     headers: {\n  //       'Content-Type': 'multipart/form-data'\n  //     },\n  //     onUploadProgress: progressEvent\n  //   })\n  //   .then(r => {\n  //\n  //   })\n  //   .catch(err => {\n  //\n  //   })\n};\n\n// const uploadPercent = ref(0)\n//\n// const progressEvent = progressEvent => {\n//   uploadPercent.value = Math.round(\n//     (progressEvent.loaded * 100) / progressEvent.total\n//   )\n// }\n</script>\n\n<template>\n  <div class=\"flex items-stretch justify-start relative\">\n    <label class=\"inline-flex\">\n      <BaseButton\n        as=\"a\"\n        :class=\"{ 'w-12 h-12': isRoundIcon, 'rounded-r-none': showFilename }\"\n        :icon-size=\"isRoundIcon ? 24 : undefined\"\n        :label=\"isRoundIcon ? null : label\"\n        :icon=\"icon\"\n        :color=\"color\"\n        :rounded-full=\"isRoundIcon\"\n      />\n      <input\n        ref=\"root\"\n        type=\"file\"\n        class=\"absolute top-0 left-0 w-full h-full opacity-0 outline-none cursor-pointer -z-1\"\n        :accept=\"accept\"\n        @input=\"upload\"\n      />\n    </label>\n    <div\n      v-if=\"showFilename\"\n      class=\"px-4 py-2 bg-gray-100 dark:bg-slate-800 border-gray-200 dark:border-slate-700 border rounded-r\"\n    >\n      <span class=\"text-ellipsis line-clamp-1\">\n        {{ file.name }}\n      </span>\n    </div>\n  </div>\n</template>\n","<script setup>\nimport { computed } from \"vue\";\n\nconst props = defineProps({\n  name: {\n    type: String,\n    required: true,\n  },\n  type: {\n    type: String,\n    default: \"checkbox\",\n    validator: (value) => [\"checkbox\", \"radio\", \"switch\"].includes(value),\n  },\n  label: {\n    type: String,\n    default: null,\n  },\n  modelValue: {\n    type: [Array, String, Number, Boolean],\n    default: null,\n  },\n  inputValue: {\n    type: [String, Number, Boolean],\n    required: true,\n  },\n});\n\nconst emit = defineEmits([\"update:modelValue\"]);\n\nconst computedValue = computed({\n  get: () => props.modelValue,\n  set: (value) => {\n    emit(\"update:modelValue\", value);\n  },\n});\n\nconst inputType = computed(() =>\n  props.type === \"radio\" ? \"radio\" : \"checkbox\"\n);\n</script>\n\n<template>\n  <label :class=\"type\">\n    <input\n      v-model=\"computedValue\"\n      :type=\"inputType\"\n      :name=\"name\"\n      :value=\"inputValue\"\n    />\n    <span class=\"check\" />\n    <span class=\"pl-2\">{{ label }}</span>\n  </label>\n</template>\n","<script setup>\nimport { computed, ref } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport { mdiCheckDecagram } from \"@mdi/js\";\nimport BaseLevel from \"@/components/BaseLevel.vue\";\nimport UserAvatarCurrentUser from \"@/components/UserAvatarCurrentUser.vue\";\nimport CardBox from \"@/components/CardBox.vue\";\nimport FormCheckRadio from \"@/components/FormCheckRadio.vue\";\nimport PillTag from \"@/components/PillTag.vue\";\n\nconst mainStore = useMainStore();\n\nconst userName = computed(() => mainStore.userName);\n\nconst userSwitchVal = ref(false);\n</script>\n\n<template>\n  <CardBox>\n    <BaseLevel type=\"justify-around lg:justify-center\">\n      <UserAvatarCurrentUser class=\"lg:mx-12\" />\n      <div class=\"space-y-3 text-center md:text-left lg:mx-12\">\n        <div class=\"flex justify-center md:block\">\n          <FormCheckRadio\n            v-model=\"userSwitchVal\"\n            name=\"notifications-switch\"\n            type=\"switch\"\n            label=\"Notifications\"\n            :input-value=\"true\"\n          />\n        </div>\n        <h1 class=\"text-2xl\">\n          Howdy, <b>{{ userName }}</b\n          >!\n        </h1>\n        <p>Last login <b>12 mins ago</b> from <b>127.0.0.1</b></p>\n        <div class=\"flex justify-center md:block\">\n          <PillTag label=\"Verified\" color=\"info\" :icon=\"mdiCheckDecagram\" />\n        </div>\n      </div>\n    </BaseLevel>\n  </CardBox>\n</template>\n","<script setup>\nimport { reactive } from \"vue\";\nimport { useMainStore } from \"@/stores/main\";\nimport {\n  mdiAccount,\n  mdiMail,\n  mdiAsterisk,\n  mdiFormTextboxPassword,\n  mdiTwitter,\n} from \"@mdi/js\";\nimport SectionMain from \"@/components/SectionMain.vue\";\nimport CardBox from \"@/components/CardBox.vue\";\nimport BaseDivider from \"@/components/BaseDivider.vue\";\nimport FormField from \"@/components/FormField.vue\";\nimport FormControl from \"@/components/FormControl.vue\";\nimport FormFilePicker from \"@/components/FormFilePicker.vue\";\nimport BaseButton from \"@/components/BaseButton.vue\";\nimport BaseButtons from \"@/components/BaseButtons.vue\";\nimport UserCard from \"@/components/UserCard.vue\";\nimport LayoutAuthenticated from \"@/layouts/LayoutAuthenticated.vue\";\nimport SectionTitleLineWithButton from \"@/components/SectionTitleLineWithButton.vue\";\n\nconst mainStore = useMainStore();\n\nconst profileForm = reactive({\n  name: mainStore.userName,\n  email: mainStore.userEmail,\n});\n\nconst passwordForm = reactive({\n  password_current: \"\",\n  password: \"\",\n  password_confirmation: \"\",\n});\n\nconst submitProfile = () => {\n  mainStore.setUser(profileForm);\n};\n\nconst submitPass = () => {\n  //\n};\n</script>\n\n\n\n<template>\n  <LayoutAuthenticated>\n    <SectionMain>\n      <SectionTitleLineWithButton :icon=\"mdiAccount\" title=\"Profile\" main>\n        <BaseButton\n          href=\"https://twitter.com/fekdaoui\"\n          target=\"_blank\"\n          :icon=\"mdiTwitter\"\n          label=\"Follow me on Twitter\"\n          color=\"contrast\"\n          rounded-full\n          small\n        />\n      </SectionTitleLineWithButton>\n\n      <UserCard class=\"mb-6\" />\n\n      <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <CardBox is-form @submit.prevent=\"submitProfile\">\n          <FormField label=\"Avatar\" help=\"Max 500kb\">\n            <FormFilePicker label=\"Upload\" />\n          </FormField>\n\n          <FormField label=\"Name\" help=\"Required. Your name\">\n            <FormControl\n              v-model=\"profileForm.name\"\n              :icon=\"mdiAccount\"\n              name=\"username\"\n              required\n              autocomplete=\"username\"\n            />\n          </FormField>\n          <FormField label=\"E-mail\" help=\"Required. Your e-mail\">\n            <FormControl\n              v-model=\"profileForm.email\"\n              :icon=\"mdiMail\"\n              type=\"email\"\n              name=\"email\"\n              required\n              autocomplete=\"email\"\n            />\n          </FormField>\n\n          <template #footer>\n            <BaseButtons>\n              <BaseButton color=\"info\" type=\"submit\" label=\"Submit\" />\n              <BaseButton color=\"info\" label=\"Options\" outline />\n            </BaseButtons>\n          </template>\n        </CardBox>\n\n        <CardBox is-form @submit.prevent=\"submitPass\">\n          <FormField\n            label=\"Current password\"\n            help=\"Required. Your current password\"\n          >\n            <FormControl\n              v-model=\"passwordForm.password_current\"\n              :icon=\"mdiAsterisk\"\n              name=\"password_current\"\n              type=\"password\"\n              required\n              autocomplete=\"current-password\"\n            />\n          </FormField>\n\n          <BaseDivider />\n\n          <FormField label=\"New password\" help=\"Required. New password\">\n            <FormControl\n              v-model=\"passwordForm.password\"\n              :icon=\"mdiFormTextboxPassword\"\n              name=\"password\"\n              type=\"password\"\n              required\n              autocomplete=\"new-password\"\n            />\n          </FormField>\n\n          <FormField\n            label=\"Confirm password\"\n            help=\"Required. New password one more time\"\n          >\n            <FormControl\n              v-model=\"passwordForm.password_confirmation\"\n              :icon=\"mdiFormTextboxPassword\"\n              name=\"password_confirmation\"\n              type=\"password\"\n              required\n              autocomplete=\"new-password\"\n            />\n          </FormField>\n\n          <template #footer>\n            <BaseButtons>\n              <BaseButton type=\"submit\" color=\"info\" label=\"Submit\" />\n              <BaseButton color=\"info\" label=\"Options\" outline />\n            </BaseButtons>\n          </template>\n        </CardBox>\n      </div>\n    </SectionMain>\n  </LayoutAuthenticated>\n</template>\n"],"names":["slots","useSlots","wrapperClass","computed","base","slotsLength","root","ref","file","props","showFilename","modelValueProp","watch","value","upload","event","emit","computedValue","inputType","mainStore","useMainStore","userName","userSwitchVal","profileForm","reactive","passwordForm","submitProfile","submitPass"],"mappings":"6xBAkBA,MAAMA,EAAQC,EAAQ,EAEhBC,EAAeC,EAAS,IAAM,CAClC,MAAMC,EAAO,CAAA,EACPC,EAAcL,EAAM,QAAO,EAAG,OAEpC,OAAIK,EAAc,GAChBD,EAAK,KAAK,wBAAwB,EAGhCC,IAAgB,GAClBD,EAAK,KAAK,gBAAgB,EAGrBA,CACT,CAAC,uwBCFKE,EAAOC,EAAI,IAAI,EAEfC,EAAOD,EAAIE,EAAM,UAAU,EAE3BC,EAAeP,EAAS,IAAM,CAACM,EAAM,aAAeD,EAAK,KAAK,EAE9DG,EAAiBR,EAAS,IAAMM,EAAM,UAAU,EAEtDG,EAAMD,EAAiBE,GAAU,CAC/BL,EAAK,MAAQK,EAERA,IACHP,EAAK,MAAM,MAAM,MAAQ,KAE7B,CAAC,EAED,MAAMQ,EAAUC,GAAU,CACxB,MAAMF,EAAQE,EAAM,OAAO,OAASA,EAAM,aAAa,MAEvDP,EAAK,MAAQK,EAAM,CAAC,EAEpBG,EAAK,oBAAqBR,EAAK,KAAK,CAqBtC,s+BC5CMS,EAAgBd,EAAS,CAC7B,IAAK,IAAMM,EAAM,WACjB,IAAMI,GAAU,CACdG,EAAK,oBAAqBH,CAAK,CAChC,CACH,CAAC,EAEKK,EAAYf,EAAS,IACzBM,EAAM,OAAS,QAAU,QAAU,UACrC,kgBC5BA,MAAMU,EAAYC,EAAY,EAExBC,EAAWlB,EAAS,IAAMgB,EAAU,QAAQ,EAE5CG,EAAgBf,EAAI,EAAK,kkBCQ/B,MAAMY,EAAYC,EAAY,EAExBG,EAAcC,EAAS,CAC3B,KAAML,EAAU,SAChB,MAAOA,EAAU,SACnB,CAAC,EAEKM,EAAeD,EAAS,CAC5B,iBAAkB,GAClB,SAAU,GACV,sBAAuB,EACzB,CAAC,EAEKE,EAAgB,IAAM,CAC1BP,EAAU,QAAQI,CAAW,CAC/B,EAEMI,EAAa,IAAM,CAEzB"}