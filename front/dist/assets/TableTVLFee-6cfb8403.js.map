{"version":3,"file":"TableTVLFee-6cfb8403.js","sources":["../../src/components/TableTVLFee.vue"],"sourcesContent":["<template>\n    <div>\n\n      <div v-if=\"loading\" class=\"text-center py-8\">\n            <div role=\"status\" class=\"space-y-8 animate-pulse md:space-y-0 md:space-x-8 md:flex md:items-center\">\n                <div class=\"flex justify-center items-center w-full h-48 bg-gray-300 rounded sm:w-96 dark:bg-gray-700\">\n                    <svg class=\"w-12 h-12 text-gray-200\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" fill=\"currentColor\" viewBox=\"0 0 640 512\"><path d=\"M480 80C480 35.82 515.8 0 560 0C604.2 0 640 35.82 640 80C640 124.2 604.2 160 560 160C515.8 160 480 124.2 480 80zM0 456.1C0 445.6 2.964 435.3 8.551 426.4L225.3 81.01C231.9 70.42 243.5 64 256 64C268.5 64 280.1 70.42 286.8 81.01L412.7 281.7L460.9 202.7C464.1 196.1 472.2 192 480 192C487.8 192 495 196.1 499.1 202.7L631.1 419.1C636.9 428.6 640 439.7 640 450.9C640 484.6 612.6 512 578.9 512H55.91C25.03 512 .0006 486.1 .0006 456.1L0 456.1z\"/></svg>\n                </div>\n                <div class=\"w-full\">\n                    <div class=\"h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4\"></div>\n                    <div class=\"h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[480px] mb-2.5\"></div>\n                    <div class=\"h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5\"></div>\n                    <div class=\"h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[440px] mb-2.5\"></div>\n                    <div class=\"h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[460px] mb-2.5\"></div>\n                    <div class=\"h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[360px]\"></div>\n                </div>\n                <span class=\"sr-only\">Loading...</span>\n            </div>\n\n        </div> \n\n        <!--INFO BOXES-->\n\n\n      <!--TABLE-->\n      <table v-else>\n        <CardBoxModal v-model=\"isModalActive\" title=\"Information\">\n          <p>Lorem ipsum dolor sit amet <b>adipiscing elit</b></p>\n          <p>This is sample modal</p>\n        </CardBoxModal>\n          <!--END INFO BOXES-->\n          <thead class=\"text-xs text-gray-700 uppercase dark:text-gray-400\">\n          <tr>\n            <th />\n            <th>Name</th>\n            <th v-if=\"type === 'fee_total24h'\">24H Fees</th>\n            <th v-if=\"type === 'tvl'\">TVL</th>\n            <th />\n          </tr>\n        </thead> \n        <tbody>\n          <tr v-for=\"asset in assetsPaginated\" :key=\"asset.name\">\n            <th data-label=\"logo\" class=\"h-6 w-6\">\n              <div class=\"h-6 w-6\">                        \n                <img :src=\"asset.logo ? asset.logo : 'https://cdn4.iconfinder.com/data/icons/leto-weather/64/na_not_available_weather_sun-512.png'\" alt=\"Logo\" class=\"rounded-full\">\n              </div>\n            </th>\n            <td data-label=\"Name\" class=\"w-1/3\">\n              <router-link :to=\"`/projects/${asset.symbol}`\"> {{ asset.name }}</router-link>\n            </td>\n\n            <td data-label=\"Fees\" v-if=\"type === 'fee_total24h'\">\n              <small\n            class=\"text-gray-500 dark:text-slate-400\"\n            >\n              {{ formatValue(asset.fee_total24h, 'fee_total24h') }}\n            </small>\n            </td>\n            <td data-label=\"TVL\" v-if=\"type === 'tvl'\" class=\"text-right\">\n              <small\n            class=\"text-gray-500 dark:text-slate-400\"\n            >\n              {{ formatValue(asset.tvl, 'tvl') }}\n            </small>\n            </td>\n\n            <td class=\"before:hidden lg:w-1 whitespace-nowrap\">\n              <div class=\"h-6 w-6\">       \n                <a @click=\"isModalActive = true\" class=\"clickable\">          \n                  <img src=\"https://cdn1.iconfinder.com/data/icons/shopping-and-ecommerce-2/64/E-commerce_and_Shopping-81-256.png\" alt=\"Logo\"  class=\"rounded-full\">\n                </a>       \n                </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n       \n      <!--PAGINATION--> \n      <div class=\"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800\">\n        <BaseLevel>\n          <BaseButtons>\n            <BaseButton class=\"text-xs text-gray-700 uppercase dark:text-gray-400\" label=\"Previous\" @click=\"currentPage = Math.max(currentPage - 1, 0)\" :color=\"page === currentPage ? 'lightDark' : 'whiteDark'\"/>\n              <BaseButton\n                class=\"text-xs text-gray-700 uppercase dark:text-gray-400\"\n                v-for=\"page in pagesList.slice(Math.max(currentPage - 1, 0), Math.min(currentPage + 1, numPages))\"\n                :key=\"page\"\n                :active=\"page === currentPage\"\n                :label=\"page + 1\"\n                :color=\"page === currentPage ? 'lightDark' : 'whiteDark'\"\n                small\n                @click=\"currentPage = page\"\n              />\n              <BaseButton class=\"text-xs text-gray-700 uppercase dark:text-gray-400\" label=\"Next\" @click=\"currentPage = Math.min(currentPage + 1, numPages - 1)\" :color=\"page === currentPage ? 'lightDark' : 'whiteDark'\"/>\n        </BaseButtons>\n\n          <small>Page {{ currentPageHuman }} of {{ numPages }}</small>\n        </BaseLevel>\n      </div>\n</div>\n</template>\n<script>\nimport { mdiEye, mdiTrashCan } from \"@mdi/js\";\nimport CardBoxModal from \"@/components/CardBoxModal.vue\";\nimport TableCheckboxCell from \"@/components/TableCheckboxCell.vue\";\nimport BaseLevel from \"@/components/BaseLevel.vue\";\nimport BaseButtons from \"@/components/BaseButtons.vue\";\nimport BaseButton from \"@/components/BaseButton.vue\";\nimport UserAvatar from \"@/components/UserAvatar.vue\";\nimport { fetchFilteredAssetData, formatValue } from \"@/stores/supastore\";\nimport { supabase, currentUser } from \"../supabase\";\n\nexport default {\n  components: {\n    CardBoxModal,\n    TableCheckboxCell,\n    BaseLevel,\n    BaseButtons,\n    BaseButton,\n    UserAvatar,\n    mdiEye,\n    mdiTrashCan,\n  },\n  props: {\n    type: {\n      type: String,\n      default: 'tvl'\n    },\n    pagesize: {\n      type: Number,\n      default: 5,\n    }\n  },\n  data() {\n    return {\n      loading: true,\n      assets: {},\n      items: [],\n      isModalActive: false,\n      isModalDangerActive: false,\n      perPage: this.pagesize,\n      currentPage: 0,\n      assetsPaginated: [],\n    } \n  },\n  async created() {\n    this.assets = await fetchFilteredAssetData(this.assets, this.type);\n    this.assets = this.assets['assets']\n    this.updateAssetsPaginated();\n  }, \n  watch: {\n    currentPage() {\n      this.assetsPaginated = Array.from(this.assets).slice(\n        this.perPage * this.currentPage,\n        this.perPage * (this.currentPage + 1)\n      );\n    }\n  },\n  computed: {\n    numPages() {\n      if (this.assets.length === 0) {\n        return 0;\n      }\n      return Math.ceil(this.assets.length / this.perPage);\n    },\n    currentPageHuman() {\n      return this.currentPage + 1;\n    },\n    pagesList() {\n      const pagesList = [];\n      for (let i = 0; i < this.numPages; i++) {\n        pagesList.push(i);\n      }\n      return pagesList;\n    },\n  },\n  methods: {\n     formatValue(coin, metric) {\n      return formatValue(coin, metric)\n    },\n    updateAssetsPaginated() {\n    this.assetsPaginated = Array.from(this.assets).slice(\n      this.perPage * this.currentPage,\n      this.perPage * (this.currentPage + 1),\n      this.loading = false\n    );\n  },\n\n  }\n}\n</script>\n<style>\n.positive {\ncolor: green;\n}\n\n.negative {\ncolor: red;\n}\n.clickable:hover {\n  cursor: pointer;\n}\n</style>\n"],"names":["_sfc_main","CardBoxModal","TableCheckboxCell","BaseLevel","BaseButtons","BaseButton","UserAvatar","mdiEye","mdiTrashCan","fetchFilteredAssetData","pagesList","i","coin","metric","formatValue","_createElementVNode","_hoisted_2","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_14","_hoisted_18","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_25","_createElementBlock","$data","_openBlock","_hoisted_1","_hoisted_3","_hoisted_4","_createVNode","_component_CardBoxModal","$event","_hoisted_5","_hoisted_8","$props","_hoisted_12","_Fragment","_renderList","asset","_hoisted_13","_hoisted_16","_component_router_link","_createTextVNode","_toDisplayString","_hoisted_17","$options","_hoisted_19","_component_BaseLevel","_component_BaseButtons","_component_BaseButton","_ctx","page","_createBlock","_cache"],"mappings":"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"}