import{L}from"./LoadingComponent-0d9f5b13.js";import{a as M,d as T,e as V,f as F,b as D,c as A,_ as N,j as H}from"./CardBox-7b751d6f.js";import{B as S}from"./BreadCrumb-759eb96d.js";import{_ as j}from"./SectionTitleLineWithButton-65f55b8f.js";import{_ as z}from"./ProjectHead-8ad5ab6b.js";import{_ as W}from"./CardBoxModal-94c700e6.js";import{_ as E}from"./TableCheckboxCell-f607beec.js";import{_ as G}from"./BaseButtons-1de4e2b6.js";import{_ as U}from"./BaseButton-ff604aaf.js";import{d as I,f as O}from"./supastore-c6013ad2.js";import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";import{r as o,o as c,c as h,b as e,F as y,f as w,g as n,w as i,d as m,t as d,a as f,s as q}from"./index-9dad1ecb.js";import{T as J}from"./TableTVLFee-6cfb8403.js";import"./PillTag-588be2e0.js";import"./CardBoxComponentTitle-d7ea4c8e.js";const K={components:{CardBoxModal:W,TableCheckboxCell:E,BaseLevel:M,BaseButtons:G,BaseButton:U,UserAvatar:T,mdiEye:V,mdiTrashCan:F},props:{pagesize:{type:Number,default:10}},data(){return{loading:!0,assets:{},logos:{},items:[],isModalActive:!1,isModalDangerActive:!1,perPage:this.pagesize,currentPage:0,assetsPaginated:[]}},async created(){this.assets=await I(this.assets),this.assets=this.assets.assets,this.updateAssetsPaginated()},watch:{currentPage(){this.assetsPaginated=Array.from(this.assets).slice(this.perPage*this.currentPage,this.perPage*(this.currentPage+1))}},methods:{formatValue(l,s){return O(l,s)},updateAssetsPaginated(){this.assetsPaginated=Array.from(this.assets).slice(this.perPage*this.currentPage,this.perPage*(this.currentPage+1),this.loading=!1)}},computed:{numPages(){return this.assets.length===0?0:Math.ceil(this.assets.length/this.perPage)},currentPageHuman(){return this.currentPage+1},pagesList(){const l=[];for(let s=0;s<this.numPages;s++)l.push(s);return l}}},Q={key:0,class:"text-center py-8"},R=e("div",{role:"status",class:"space-y-8 animate-pulse md:space-y-0 md:space-x-8 md:flex md:items-center"},[e("div",{class:"flex justify-center items-center w-full h-48 bg-gray-300 rounded sm:w-96 dark:bg-gray-700"},[e("svg",{class:"w-12 h-12 text-gray-200",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 640 512"},[e("path",{d:"M480 80C480 35.82 515.8 0 560 0C604.2 0 640 35.82 640 80C640 124.2 604.2 160 560 160C515.8 160 480 124.2 480 80zM0 456.1C0 445.6 2.964 435.3 8.551 426.4L225.3 81.01C231.9 70.42 243.5 64 256 64C268.5 64 280.1 70.42 286.8 81.01L412.7 281.7L460.9 202.7C464.1 196.1 472.2 192 480 192C487.8 192 495 196.1 499.1 202.7L631.1 419.1C636.9 428.6 640 439.7 640 450.9C640 484.6 612.6 512 578.9 512H55.91C25.03 512 .0006 486.1 .0006 456.1L0 456.1z"})])]),e("div",{class:"w-full"},[e("div",{class:"h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4"}),e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[480px] mb-2.5"}),e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"}),e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[440px] mb-2.5"}),e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[460px] mb-2.5"}),e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[360px]"})]),e("span",{class:"sr-only"},"Loading...")],-1),X=[R],Y={key:1},Z=e("thead",{class:"text-xs text-gray-700 uppercase dark:text-gray-400"},[e("tr",null,[e("th"),e("th",null,"Name"),e("th",null,"Price"),e("th",null,"Marketcap"),e("th",null,"TVL"),e("th",null,"1D Fees"),e("th",null,"7D Fees"),e("th")])],-1),$=e("p",null,[m("Lorem ipsum dolor sit amet "),e("b",null,"adipiscing elit")],-1),ee=e("p",null,"This is sample modal",-1),te={"data-label":"logo",class:"h-6 w-6"},ae={class:"h-6 w-6"},se=["src"],ne={"data-label":"Name",class:"w-32"},re={class:"w-32"},oe={"data-label":"Price"},le={class:"text-gray-500 dark:text-slate-400"},ce=["innerHTML"],ie={"data-label":"Marketcap"},de={class:"text-gray-500 dark:text-slate-400"},_e={"data-label":"TVL"},he={class:"text-gray-500 dark:text-slate-400"},me={"data-label":"1D Fees"},ue={class:"text-gray-500 dark:text-slate-400"},pe=["innerHTML"],ge={"data-label":"7D Fees"},fe={class:"text-gray-500 dark:text-slate-400"},be=["innerHTML"],xe={class:"before:hidden lg:w-1 whitespace-nowrap"},ke={class:"h-6 w-6"},ye=e("img",{src:"https://cdn1.iconfinder.com/data/icons/shopping-and-ecommerce-2/64/E-commerce_and_Shopping-81-256.png",alt:"Logo",class:"rounded-full"},null,-1),we=[ye],ve=e("tfoot",{class:"text-xs text-gray-700 uppercase dark:text-gray-400"},[e("tr",null,[e("th"),e("th",null,"Name"),e("th",null,"Price"),e("th",null,"Marketcap"),e("th",null,"TVL"),e("th",null,"1D Fees"),e("th",null,"7D Fees"),e("th")])],-1),Pe={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800"};function Be(l,s,P,B,a,r){const b=o("CardBoxModal"),p=o("router-link"),u=o("BaseButton"),x=o("BaseButtons"),g=o("BaseLevel");return c(),h("div",null,[a.loading?(c(),h("div",Q,X)):(c(),h("table",Y,[Z,e("tbody",null,[(c(!0),h(y,null,w(a.assetsPaginated,t=>(c(),h("tr",{key:t.name},[n(b,{modelValue:a.isModalActive,"onUpdate:modelValue":s[0]||(s[0]=_=>a.isModalActive=_),title:"Information"},{default:i(()=>[m(d(t.price)+" ",1),$,ee]),_:2},1032,["modelValue"]),e("th",te,[e("div",ae,[e("img",{src:t.logo?t.logo:"https://cdn4.iconfinder.com/data/icons/leto-weather/64/na_not_available_weather_sun-512.png",alt:"Logo",class:"rounded-full"},null,8,se)])]),e("td",ne,[e("div",re,[n(p,{to:`/projects/${t.symbol}`},{default:i(()=>[m(d(t.name),1)]),_:2},1032,["to"])])]),e("td",oe,[e("small",le,[m(d(r.formatValue(t.price,"price"))+" ",1),e("p",{innerHTML:r.formatValue(t.percent_change_usd_last_24_hours,"percent_change_usd_last_24_hours")},null,8,ce)])]),e("td",ie,[e("small",de,d(r.formatValue(t.new_marketcap,"marketcap")),1)]),e("td",_e,[e("small",he,d(r.formatValue(t.tvl,"tvl")),1)]),e("td",me,[e("small",ue,[m(d(r.formatValue(t.fee_total24h,"fee_total24h"))+" ",1),e("p",{innerHTML:r.formatValue(t.fee_change_1d,"percent_change_usd_last_24_hours")},null,8,pe)])]),e("td",ge,[e("small",fe,[m(d(r.formatValue(t.fee_total7d,"fee_total7d"))+" ",1),e("p",{innerHTML:r.formatValue(t.fee_change_7d,"percent_change_usd_last_24_hours")},null,8,be)])]),e("td",xe,[e("div",ke,[e("a",{onClick:s[1]||(s[1]=_=>a.isModalActive=!0),class:"clickable"},we)])])]))),128))]),ve])),e("div",Pe,[n(g,null,{default:i(()=>[n(x,null,{default:i(()=>[n(u,{class:"text-xs text-gray-700 uppercase dark:text-gray-400",label:"First",onClick:s[2]||(s[2]=t=>a.currentPage=0),color:l.page===a.currentPage?"lightDark":"whiteDark"},null,8,["color"]),(c(!0),h(y,null,w(r.pagesList.slice(Math.max(a.currentPage-2,0),Math.min(a.currentPage+3,r.numPages)),t=>(c(),f(u,{class:"text-xs text-gray-700 uppercase dark:text-gray-400",key:t,active:t===a.currentPage,label:t+1,color:t===a.currentPage?"lightDark":"whiteDark",small:"",onClick:_=>a.currentPage=t},null,8,["active","label","color","onClick"]))),128)),n(u,{class:"text-xs text-gray-700 uppercase dark:text-gray-400",label:"Last",onClick:s[3]||(s[3]=t=>a.currentPage=r.numPages-1),color:l.page===a.currentPage?"lightDark":"whiteDark"},null,8,["color"])]),_:1}),e("small",null,"Page "+d(r.currentPageHuman)+" of "+d(r.numPages),1)]),_:1})])])}const Ce=v(K,[["render",Be]]),Le={components:{LayoutAuthenticated:D,SectionMain:A,BreadCrumb:S,SectionTitleLineWithButton:j,ProjectHead:z,CardBox:N,TableMarketCap:Ce,TableTVLFee:J,LoadingComponent:L},name:"GeneralView",data(){return{mdiViewDashboardVariant:H,asset:{},loading:!0,dashboard:{name:"Market overview"}}},async created(){this.fetchMarketData()},methods:{async fetchMarketData(){let{data:l,error:s}=await q.from("marketdata").select().order("id",{ascending:!1});if(console.log("marketData; ",l),this.asset=l[0],this.loading=!1,console.log("asset: ",this.asset),s)return console.error("result"+s);this.cardBoxWidgets=[{prefix:"$",trend:this.asset.total_market_cap_yesterday_percentage_change?parseFloat(this.asset.total_market_cap_yesterday_percentage_change).toFixed(2)+"%":"N/A",trendType:this.asset.total_market_cap_yesterday_percentage_change?this.asset.total_market_cap_yesterday_percentage_change>=0?"up":"down":"info",color:"text-emerald-500",label:"Total Marketcap",suffix:this.asset.total_market_cap>=1e9?"B":"M",number:this.asset.total_market_cap>=1e9?(this.asset.total_market_cap/1e9).toFixed(0):(this.asset.total_market_cap/1e6).toFixed(0),icon:"https://cdn0.iconfinder.com/data/icons/cryptocurrency-63/64/Market-capitalization-global-bitcoin-cryptocurrency-512.png"},{prefix:"$",trend:this.asset.stablecoin_24h_percentage_change?parseFloat(this.asset.stablecoin_24h_percentage_change).toFixed(2)+"%":"N/A",trendType:this.asset.stablecoin_24h_percentage_change?this.asset.stablecoin_24h_percentage_change>=0?"up":"down":"info",color:"text-emerald-500",label:"Stables Marketcap",suffix:this.asset.stablecoin_market_cap>=1e9?"B":"M",number:this.asset.stablecoin_market_cap>=1e9?(this.asset.stablecoin_market_cap/1e9).toFixed(0):(this.asset.stablecoin_market_cap/1e6).toFixed(0),icon:"https://cdn3.iconfinder.com/data/icons/start-up-4/44/money-512.png"},{prefix:"$",trend:this.asset.defi_24h_percentage_change?parseFloat(this.asset.defi_24h_percentage_change).toFixed(2)+"%":"N/A",trendType:this.asset.defi_24h_percentage_change?this.asset.defi_24h_percentage_change>=0?"up":"down":"info",color:"text-emerald-500",label:"DeFi Marketcap",suffix:this.asset.defi_market_cap>=1e9?"B":"M",number:this.asset.defi_market_cap>=1e9?(this.asset.defi_market_cap/1e9).toFixed(0):(this.asset.defi_market_cap/1e6).toFixed(0),icon:"https://cdn4.iconfinder.com/data/icons/gamefi-3/512/Gamefi-game-nftgame-defi-nft-blockchaingame-playtoearn-p2e-512.png"},{prefix:"",trend:this.asset.btc_dominance_24h_percentage_change?parseFloat(this.asset.btc_dominance_24h_percentage_change).toFixed(2)+"%":"N/A",trendType:this.asset.btc_dominance_24h_percentage_change?this.asset.btc_dominance_24h_percentage_change>=0?"up":"down":"info",color:"text-emerald-500",label:"BTC Dominance",suffix:"%",number:parseFloat(this.asset.btc_dominance).toFixed(2),icon:"https://cdn2.iconfinder.com/data/icons/bitcoin-and-mining/44/coins-512.png"}]}}},Me={class:"mb-6 flex overflow-x-auto"};function Te(l,s,P,B,a,r){const b=o("LoadingComponent"),p=o("SectionMain"),u=o("BreadCrumb"),x=o("ProjectHead"),g=o("SectionTitleLineWithButton"),t=o("TableMarketCap"),_=o("CardBox"),k=o("TableTVLFee"),C=o("LayoutAuthenticated");return c(),f(C,null,{default:i(()=>[a.loading?(c(),f(p,{key:0},{default:i(()=>[n(b)]),_:1})):(c(),f(p,{key:1},{default:i(()=>[n(u,{projectName:a.dashboard.name,class:"py-4"},null,8,["projectName"]),n(x,{cardBoxWidgets:l.cardBoxWidgets},null,8,["cardBoxWidgets"]),n(g,{icon:a.mdiViewDashboardVariant,title:"Market Overview"},null,8,["icon"]),n(_,{"has-table":""},{default:i(()=>[n(t,{pagesize:10})]),_:1}),n(g,{icon:a.mdiViewDashboardVariant,title:"Total Value Locked & Fees"},null,8,["icon"]),e("div",Me,[n(_,{"has-table":"",class:"w-1/2 mr-2"},{default:i(()=>[n(k,{type:"tvl",pagesize:5})]),_:1}),n(_,{"has-table":"",class:"w-1/2 mr-2"},{default:i(()=>[n(k,{type:"fee_total24h",pagesize:5})]),_:1})])]),_:1}))]),_:1})}const qe=v(Le,[["render",Te]]);export{qe as default};
//# sourceMappingURL=GeneralView-e2419e89.js.map
